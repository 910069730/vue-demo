webpackJsonp([4],{263:function(t,i,s){"use strict";function e(t){u||s(307)}Object.defineProperty(i,"__esModule",{value:!0});var a=s(278),n=s.n(a);for(var o in a)["default","default"].indexOf(o)<0&&function(t){s.d(i,t,function(){return a[t]})}(o);var r=s(309),u=!1,d=s(4),l=e,c=d(n.a,r.a,!1,l,"data-v-55d70c40",null);c.options.__file="src/compontents/products/products_shop.vue",i.default=c.exports},278:function(t,i,s){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var a=s(168),n=e(a),o=s(169),r=e(o),u=s(167);i.default={data:function(){return{title:"商品详情",products_shop_error_flag:!1,goods_message:{},url:"/api/getthumimages/"+this.$route.query.id,number:1,jian_disable:!0,jia_disable:!1}},created:function(){function t(t){s.goods_message=t.data.message}var i=this,s=this;this.$axios.all([this.$axios.get("/api/goods/getinfo/"+this.$route.query.id)]).then(this.$axios.spread(t)).catch(function(t){i.products_shop_error_flag=!0,console.log(t)})},methods:{jia:function(){if(this.number>=this.goods_message[0].stock_quantity)return void this.$router.push("/404");this.number<this.goods_message[0].stock_quantity-1?(this.number++,this.jian_disable=!1):(this.number++,this.jia_disable=!0,this.jian_disable=!1)},jian:function(){if(this.number<=1)return void this.$router.push("/404");this.number>2?(this.number--,this.jian_disable=!1,this.jia_disable=!1):(this.number--,this.jian_disable=!0,this.jia_disable=!1)},toProductsDetail:function(){this.$router.push({name:"products_detail",query:{id:this.$route.query.id}})},toProductsComment:function(){this.$router.push({name:"products_comment",query:{id:this.$route.query.id}})},addShopcart:function(){r.default.addOrUpdate({id:this.goods_message[0].id,num:this.number}),n.default.$emit("phone",this.number),u.MessageBox.alert("已添加至购物车","温馨提示"),console.log(r.default.getProds()),this.goods_message[0].stock_quantity<1?(this.number=0,this.jia_disable=!0,this.jian_disable=!0):(this.number=1,this.jian_disable=!0,this.jia_disable=!1)},shopIt:function(){u.MessageBox.alert("暂未开放此功能","温馨提示")}},components:{}}},307:function(t,i,s){var e=s(308);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);s(3)("77af868d",e,!1,{})},308:function(t,i,s){i=t.exports=s(2)(!1),i.push([t.i,"\n.mui-card[data-v-55d70c40]{\n    width: 94%;\n    margin-left: 3%;\n    margin-top: 10px;\n    margin-right: 3%;\n    box-shadow: 0 0 5px 1px #aaa;\n    padding: 10px;\n}\n",""])},309:function(t,i,s){"use strict";var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticStyle:{"margin-bottom":"60px"}},[s("nav-bar",{attrs:{title:t.title}}),t._v(" "),t.products_shop_error_flag?s("div",{staticStyle:{"text-align":"center","padding-top":"20px"}},[t._v("数据异常")]):t._e(),t._v(" "),t._l(t.goods_message,function(i,e){return t.products_shop_error_flag?t._e():s("div",{key:e,staticStyle:{"margin-top":"70px",border:"none"}},[s("div",{staticClass:"mui-card",staticStyle:{width:"80%","margin-left":"10%","border-radius":"10px"}},[s("banner",{attrs:{url:t.url}})],1),t._v(" "),s("div",{staticClass:"mui-card"},[s("h4",{staticStyle:{color:"#5533ff"}},[t._v(t._s(i.title))]),t._v(" "),s("p",[t._v("市场价："),s("s",{staticStyle:{color:"#000"}},[t._v("￥"+t._s(i.market_price))]),t._v("    销售价："),s("span",{staticStyle:{color:"red","font-size":"20px","font-weight":"700"}},[t._v("￥"+t._s(i.sell_price))])]),t._v(" "),s("div",{staticStyle:{overflow:"hidden",width:"100%",display:"block"}},[s("p",{staticStyle:{float:"left","line-height":"33px"}},[t._v("购买数量：")]),t._v(" "),s("div",{staticClass:"mui-numbox",staticStyle:{float:"left","margin-left":"7px"}},[s("button",{staticClass:"mui-btn mui-btn-numbox-minus",attrs:{type:"button",disabled:t.jian_disable},on:{click:t.jian}},[t._v("-")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"mui-input-numbox",attrs:{type:"number",disabled:""},domProps:{value:t.number},on:{input:function(i){i.target.composing||(t.number=i.target.value)}}}),t._v(" "),s("button",{staticClass:"mui-btn mui-btn-numbox-plus",attrs:{type:"button",disabled:t.jia_disable},on:{click:t.jia}},[t._v("+")])]),t._v(" "),t.jian_disable&&t.jia_disable?t._e():s("div",{staticStyle:{width:"100%",float:"left"}},[s("div",{staticClass:"mui-btn mui-btn-primary",staticStyle:{padding:"10px 20px"},on:{click:t.shopIt}},[t._v("\n                       立即购买\n                     ")]),t._v(" "),s("div",{staticClass:"mui-btn mui-btn-danger",staticStyle:{padding:"10px 20px"},on:{click:t.addShopcart}},[t._v("\n                        加入购物车\n                     ")])])])]),t._v(" "),s("div",{staticClass:"mui-card"},[s("p",[t._v("\n                    商品参数"),s("br"),t._v("\n                    商品货号："+t._s(i.goods_no)),s("br"),t._v("\n                    商品库存："+t._s(i.stock_quantity)),s("br"),t._v("\n                    上架时间："+t._s(t._f("converDate")(i.add_time))+"\n                ")])]),t._v(" "),s("div",{staticClass:"mui-card"},[s("button",{staticClass:"mui-btn mui-btn-primary mui-btn-outlined",staticStyle:{display:"block",width:"100%"},attrs:{type:"button"},on:{click:t.toProductsDetail}},[t._v("\n\t\t\t\t\t商品介绍\n                ")]),t._v(" "),s("button",{staticClass:"mui-btn mui-btn-danger mui-btn-outlined",staticStyle:{display:"block",width:"100%","margin-top":"10px"},attrs:{type:"button"},on:{click:t.toProductsComment}},[t._v("\n\t\t\t\t\t商品评论\n\t\t\t\t")])])])})],2)},a=[];e._withStripped=!0;var n={render:e,staticRenderFns:a};i.a=n}});