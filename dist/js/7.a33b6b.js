webpackJsonp([7],{262:function(t,e,a){"use strict";function o(t){s||a(304)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(277),r=a.n(i);for(var l in i)["default","default"].indexOf(l)<0&&function(t){a.d(e,t,function(){return i[t]})}(l);var n=a(306),s=!1,d=a(4),c=o,u=d(r.a,n.a,!1,c,"data-v-c32f3e76",null);u.options.__file="src/compontents/products/products.vue",e.default=u.exports},277:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{title:"商品展示",products_error_flag:!1,pageIndex:1,datas:[],allLoaded:!1,isAutoFill:!1,wrapperHeight:0,courrentPage:0}},created:function(){this.loadFrist()},mounted:function(){this.wrapperHeight=document.documentElement.clientHeight-this.$refs.wrapper.getBoundingClientRect().top},methods:{loadTop:function(){this.loadFrist()},loadBottom:function(){this.loadMore()},loadFrist:function(){var t=this;this.pageIndex=1,this.$axios.get("api/getgoods/?pageindex="+this.pageIndex).then(function(e){t.courrentPage=0,t.allLoaded=!1,t.datas=e.data.message,t.$refs.loadmore.onTopLoaded()}).catch(function(e){console.log(e),t.products_error_flag=!0})},loadMore:function(){var t=this;this.$axios.get("api/getgoods/?pageindex="+ ++this.pageIndex).then(function(e){t.datas=t.datas.concat(e.data.message),e.data.message.length<10&&(t.allLoaded=!0),t.courrentPage++,t.$refs.loadmore.onBottomLoaded()}).catch(function(e){console.log(e),t.products_error_flag=!0})}},components:{}}},304:function(t,e,a){var o=a(305);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(3)("13c054b2",o,!1,{})},305:function(t,e,a){e=t.exports=a(2)(!1),e.push([t.i,"\n.main-body[data-v-c32f3e76] {\n  /* 加上这个才会有当数据充满整个屏幕，可以进行上拉加载更多的操作 */\n  overflow: scroll;\n  position: relative;\n}\n",""])},306:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav-bar",{attrs:{title:t.title}}),t._v(" "),t.products_error_flag?t._e():a("div",{ref:"wrapper",staticClass:"main-body",style:{height:t.wrapperHeight-50+"px"}},[a("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,autoFill:t.isAutoFill}},[a("ul",{staticClass:"mui-table-view mui-grid-view"},[t._l(t.datas,function(e,o){return a("li",{key:o,staticClass:"mui-table-view-cell mui-media mui-col-xs-6",staticStyle:{position:"relative"}},[a("router-link",{attrs:{to:{name:"products_shop",query:{id:e.id}}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.img_url,expression:"item.img_url"}],staticClass:"mui-media-object",staticStyle:{width:"100%"},attrs:{alt:"无法显示此图片"}}),t._v(" "),a("div",{staticClass:"mui-media-body"},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticStyle:{"background-color":"#bbb","text-align":"right","margin-top":"5px"}},[a("span",{staticStyle:{color:"red",float:"left"}},[t._v(" ￥"+t._s(e.sell_price))]),a("s",{staticStyle:{color:"#334455"}},[t._v("￥"+t._s(e.market_price)+" ")])]),t._v(" "),a("div",{staticStyle:{"background-color":"#bbb","text-align":"right"}},[a("span",{staticStyle:{color:"#334455",float:"left"}},[t._v("热卖中")]),a("span",{staticStyle:{color:"#334455"}},[t._v("剩"+t._s(e.stock_quantity)+"件")])])])],1)}),t._v(" "),a("li",[t.allLoaded?a("p",{staticStyle:{"text-align":"center","padding-top":"20px"}},[t._v("已经到底了")]):t._e()])],2)])],1),t._v(" "),t.products_error_flag?a("div",{staticStyle:{"text-align":"center","padding-top":"20px"}},[t._v("数据异常")]):t._e()],1)},i=[];o._withStripped=!0;var r={render:o,staticRenderFns:i};e.a=r}});